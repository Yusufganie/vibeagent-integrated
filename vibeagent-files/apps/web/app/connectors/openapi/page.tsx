'use client';import {useState} from 'react';export default function P(){const[t,setT]=useState('');const[r,setR]=useState<any>(null);const[e,setE]=useState('');async function gen(){setE('');try{const spec=JSON.parse(t);const res=await fetch('/api/connectors/openapi',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({spec})});setR(await res.json());}catch(err:any){setE(err.message);}}function dl(){if(!r?.manifest)return;const b=new Blob([JSON.stringify(r.manifest,null,2)],{type:'application/json'});const u=URL.createObjectURL(b);const a=document.createElement('a');a.href=u;a.download=(r.manifest.name||'connector')+'.manifest.json';a.click();URL.revokeObjectURL(u);}return <main style={{maxWidth:960,margin:'32px auto',padding:16}}><h1>OpenAPI â†’ Connector</h1><textarea value={t} onChange={e=>setT(e.target.value)} rows={16} style={{width:'100%',fontFamily:'monospace'}}/><div style={{margin:'8px 0'}}><button onClick={gen}>Generate</button><button onClick={dl} disabled={!r}>Download manifest</button></div>{e&&<p style={{color:'red'}}>{e}</p>}{r&&<pre style={{background:'#fafafa',padding:12}}>{JSON.stringify(r,null,2)}</pre>}</main>}